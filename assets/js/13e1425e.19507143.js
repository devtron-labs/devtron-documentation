"use strict";(globalThis.webpackChunkdocdevtron=globalThis.webpackChunkdocdevtron||[]).push([[29781],{16367:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>p,contentTitle:()=>a,default:()=>l,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"user-guide/creating-application/gitops-config","title":"GitOps Configuration","description":"The \'GitOps Configuration\' page appears only if the super-admin has opted for Ask git repository for each application in Application Management \u2192 Configurations \u2192 GitOps.","source":"@site/docs/user-guide/creating-application/gitops-config.md","sourceDirName":"user-guide/creating-application","slug":"/user-guide/creating-application/gitops-config","permalink":"/docs/user-guide/creating-application/gitops-config","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"HashiCorp Vault","permalink":"/docs/user-guide/creating-application/base-config/eso/hashicorp-eso"},"next":{"title":"Workflow Editor","permalink":"/docs/user-guide/creating-application/workflow/"}}');var t=i(74848),o=i(28453);const r={},a="GitOps Configuration",p={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Adding Custom Git Repo for GitOps",id:"adding-custom-git-repo-for-gitops",level:2},{value:"For Devtron Apps",id:"for-devtron-apps",level:3},{value:"For Helm Apps",id:"for-helm-apps",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"gitops-configuration",children:"GitOps Configuration"})}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["The 'GitOps Configuration' page appears only if the super-admin has opted for ",(0,t.jsx)(n.strong,{children:"Ask git repository for each application"})," in ",(0,t.jsx)(n.a,{href:"/docs/user-guide/app-management/configurations/gitops",children:"Application Management \u2192 Configurations \u2192 GitOps"}),"."]})]}),"\n",(0,t.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:["This configuration is an extension of the ",(0,t.jsx)(n.a,{href:"/docs/user-guide/app-management/configurations/gitops",children:"GitOps"})," settings present in ",(0,t.jsx)(n.a,{href:"/docs/user-guide/global-configurations/",children:"Application Management \u2192 Configurations"})," of Devtron. Therefore, make sure you read it before making any changes to your app configuration."]}),"\n",(0,t.jsx)(n.p,{children:"The application-level GitOps configuration offers the flexibility to add a custom Git repo (as opposed to Devtron auto-creating a repo for your application)."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"adding-custom-git-repo-for-gitops",children:"Adding Custom Git Repo for GitOps"}),"\n",(0,t.jsx)(n.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,t.jsxs)(n.p,{children:["Users need to have ",(0,t.jsx)(n.a,{href:"/docs/user-guide/global-configurations/authorization/user-access#devtron-apps-permissions",children:"Admin permission"})," or above (along with access to the environment and application) to configure user-defined Git repo."]})}),"\n",(0,t.jsx)(n.h3,{id:"for-devtron-apps",children:"For Devtron Apps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Go to ",(0,t.jsx)(n.strong,{children:"Application Management"})," \u2192 ",(0,t.jsx)(n.strong,{children:"Devtron Apps"})," \u2192 (choose your app) \u2192 ",(0,t.jsx)(n.strong,{children:"Configurations"})," (tab) \u2192 ",(0,t.jsx)(n.strong,{children:"GitOps Configuration"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/app-config-gitops.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 1: App-level GitOps Config"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"Assuming a GitOps repo was not added to your application earlier, you get 2 options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Auto-create repository"})," - Select this option if you wish to proceed with the default behavior. It will create a repository automatically, named after your application with a prefix. Thus saving you the trouble of creating one manually."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Commit manifests to a desired repository"})," - Select this option if you wish to add a custom repo that is already created with your ",(0,t.jsx)(n.a,{href:"/docs/user-guide/app-management/configurations/gitops#supported-git-providers",children:"Git provider"}),". Enter its link in the ",(0,t.jsx)(n.code,{children:"Git Repo URL"})," field."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/gitops-config.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 2: Repo Creation"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"GitOps repositories, whether auto-created by Devtron or added manually, are immutable. This means they cannot be modified after creation. The same is true if you have an existing CD pipeline that uses/used GitOps for deployment."})]}),"\n",(0,t.jsxs)(n.ol,{start:"3",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/saved-config.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 3: Saved GitOps Config"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Note"}),": In case you skipped the GitOps configuration for your application and proceeded towards the ",(0,t.jsx)(n.a,{href:"/docs/user-guide/creating-application/workflow/cd-pipeline",children:"creation of a new CD pipeline"})," (that uses GitOps), you will be prompted to configure GitOps as shown below:"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/gitops-not-configured.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 4: Incomplete GitOps Config"})]}),"\n",(0,t.jsx)(n.h3,{id:"for-helm-apps",children:"For Helm Apps"}),"\n",(0,t.jsxs)(n.p,{children:["You can ",(0,t.jsx)(n.a,{href:"/docs/user-guide/deploy-chart/deployment-of-charts#configure-and-deploy-charts",children:"deploy a helm chart"})," using either Helm or GitOps. Let's assume you wish to deploy ",(0,t.jsx)(n.code,{children:"airflow"})," chart."]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Select the helm chart from the ",(0,t.jsx)(n.a,{href:"/docs/user-guide/deploy-chart/",children:"Chart Store"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/chart-selection.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 5: Choosing a Helm Chart"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Click ",(0,t.jsx)(n.strong,{children:"Configure & Deploy"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/configure-deploy.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 6: Configure & Deploy Button"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["After you enter the ",(0,t.jsx)(n.code,{children:"App Name"}),", ",(0,t.jsx)(n.code,{children:"Project"}),", and ",(0,t.jsx)(n.code,{children:"Environment"}),"; an option to choose the deployment approach (i.e., Helm or GitOps (Via ArgoCD)) would appear. Select ",(0,t.jsx)(n.strong,{children:"GitOps (Via ArgoCD)"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.admonition,{type:"info",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsxs)(n.p,{children:["The option to choose between 'Helm' or 'GitOps' is only available in ",(0,t.jsx)("a",{href:"https://devtron.ai/pricing",children:(0,t.jsx)("img",{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/elements/EnterpriseTag.svg",className:"enterprise-badge-img"})})]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/deployment-method.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 7a: Deployment Approach"})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/select-gitops.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 7b: Selecting GitOps (Via ArgoCD) Method"})]}),"\n",(0,t.jsxs)(n.ol,{start:"4",children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["A modal window will appear for you to enter a Git repository. Just like ",(0,t.jsx)(n.a,{href:"#for-devtron-apps",children:"Devtron Apps"})," (step 2), you get two options:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Auto-create repository"}),"\n",(0,t.jsx)(n.li,{children:"Commit manifests to a desired repository"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/git-repository-helm-app.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 8: Adding a Repo"})]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Enter your custom Git Repo URL, and click ",(0,t.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/devtron-v2/app-management/devtron-apps/gitops/custom-git-repo-helm-apps.jpg",alt:""}),"\n",(0,t.jsx)("center",{children:"Figure 9: Saved GitOps Config for Helm App"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Next, you may proceed to deploy the chart."}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsx)(n.mdxAdmonitionTitle,{}),(0,t.jsx)(n.p,{children:"Once you deploy a helm app with GitOps, you cannot change its GitOps repo."})]})]})}function l(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(96540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);