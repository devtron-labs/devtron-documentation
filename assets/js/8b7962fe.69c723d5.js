"use strict";(globalThis.webpackChunkdocdevtron=globalThis.webpackChunkdocdevtron||[]).push([[86918],{28453:(e,t,n)=>{n.d(t,{R:()=>d,x:()=>a});var r=n(96540);const o={},s=r.createContext(o);function d(e){const t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),r.createElement(s.Provider,{value:t},e.children)}},34710:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>i,contentTitle:()=>a,default:()=>u,frontMatter:()=>d,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"setup/upgrade/devtron-upgrade-0.2.x-0.3.x","title":"Upgrading Devtron 0.2.x to 0.3.x","description":"Follow the required steps to update the Devtron version","source":"@site/versioned_docs/version-1.7/setup/upgrade/devtron-upgrade-0.2.x-0.3.x.md","sourceDirName":"setup/upgrade","slug":"/setup/upgrade/devtron-upgrade-0.2.x-0.3.x","permalink":"/docs/devtron/v1.7/setup/upgrade/devtron-upgrade-0.2.x-0.3.x","draft":false,"unlisted":false,"tags":[],"version":"1.7","frontMatter":{"id":"devtron-upgrade-0.2.x-0.3.x","title":"Upgrading Devtron 0.2.x to 0.3.x","sidebar_label":"Upgrading Devtron 0.2.x to 0.3.x"},"sidebar":"tutorialSidebar","previous":{"title":"Upgrading Devtron 0.3.x to 0.3.x","permalink":"/docs/devtron/v1.7/setup/upgrade/devtron-upgrade-0.3.x-0.3.x"},"next":{"title":"Additional Installation Resources","permalink":"/docs/devtron/v1.7/reference/"}}');var o=n(74848),s=n(28453);const d={id:"devtron-upgrade-0.2.x-0.3.x",title:"Upgrading Devtron 0.2.x to 0.3.x",sidebar_label:"Upgrading Devtron 0.2.x to 0.3.x"},a="Upgrading Devtron 0.2.x to 0.3.x",i={},l=[{value:"Follow the required steps to update the Devtron version",id:"follow-the-required-steps-to-update-the-devtron-version",level:2},{value:"STEP 1",id:"step-1",level:4},{value:"STEP 2",id:"step-2",level:4},{value:"STEP 3",id:"step-3",level:4}];function c(e){const t={code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"upgrading-devtron-02x-to-03x",children:"Upgrading Devtron 0.2.x to 0.3.x"})}),"\n",(0,o.jsx)(t.h2,{id:"follow-the-required-steps-to-update-the-devtron-version",children:"Follow the required steps to update the Devtron version"}),"\n",(0,o.jsx)(t.h4,{id:"step-1",children:"STEP 1"}),"\n",(0,o.jsx)(t.p,{children:"Delete the respective resources i.e, nats-operator , nats-streaming and nats-server using the following commands."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"kubectl delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-operator.yaml\nkubectl -n devtroncd delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-streaming.yaml\nkubectl -n devtroncd delete -f https://raw.githubusercontent.com/devtron-labs/devtron/v0.2.37/manifests/yamls/nats-server.yaml\n"})}),"\n",(0,o.jsx)(t.h4,{id:"step-2",children:"STEP 2"}),"\n",(0,o.jsx)(t.p,{children:"Verify the deletion of resources using the following commands."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:"kubectl -n devtroncd get pods \nkubectl -n devtroncd get serviceaccount\nkubectl -n devtroncd get clusterrole\n"})}),"\n",(0,o.jsx)(t.h4,{id:"step-3",children:"STEP 3"}),"\n",(0,o.jsxs)(t.p,{children:["Set ",(0,o.jsx)(t.code,{children:"reSync: true"})," in the installer object, this will initiate upgrade of the entire Devtron stack, you can use the following command to do this."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-bash",children:'kubectl patch -n devtroncd installer installer-devtron --type=\'json\' -p=\'[{"op": "add", "path": "/spec/reSync", "value": true }]\'\n'})})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);