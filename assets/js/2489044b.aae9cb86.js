"use strict";(globalThis.webpackChunkdocdevtron=globalThis.webpackChunkdocdevtron||[]).push([[40786],{28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(96540);const i={},l=s.createContext(i);function r(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(l.Provider,{value:n},e.children)}},90115:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"user-guide/creating-application/deployment-visibility","title":"Deployment Visibility & Actions","description":"The Deployment Chart Type must be set to Rollout in order to use Blue-Green or Canary strategies.","source":"@site/docs/user-guide/creating-application/deployment-visibility.md","sourceDirName":"user-guide/creating-application","slug":"/user-guide/creating-application/deployment-visibility","permalink":"/docs/user-guide/creating-application/deployment-visibility","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{}}');var i=t(74848),l=t(28453);const r={},a="Deployment Visibility & Actions",o={},c=[{value:"Visibility &amp; Actions",id:"visibility--actions",level:2},{value:"For Canary Deployments",id:"for-canary-deployments",level:3},{value:"For Blue Green deployments",id:"for-blue-green-deployments",level:3},{value:"Swap Traffic",id:"swap-traffic",level:4},{value:"Skip &amp; Promote Full",id:"skip--promote-full",level:4},{value:"Rollback the Deployment",id:"rollback-the-deployment",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"deployment-visibility--actions",children:"Deployment Visibility & Actions"})}),"\n",(0,i.jsxs)(n.admonition,{title:"Prerequisites",type:"info",children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"/docs/user-guide/creating-application/base-config/deployment-template#select-a-deployment-chart-type",children:"Deployment Chart Type"})," must be set to Rollout in order to use Blue-Green or Canary strategies."]}),(0,i.jsxs)(n.p,{children:["Deployment Visibility and Actions is only available for Canary and Blue-Green Strategies. Refer to the ",(0,i.jsx)(n.a,{href:"/docs/user-guide/creating-application/workflow/cd-pipeline#deployment-strategies",children:"Deployment Strategies"})," to learn more."]})]}),"\n",(0,i.jsx)(n.admonition,{title:"Who Can Perform This Action?",type:"caution",children:(0,i.jsx)(n.p,{children:"Users need to have Build and Deploy or above (along with access to the environment and application)."})}),"\n",(0,i.jsxs)(n.p,{children:["Devtron helps you to manage your ",(0,i.jsx)(n.strong,{children:"Canary"})," and ",(0,i.jsx)(n.strong,{children:"Blue-Green"})," deployments by providing visibility and easy controls to manage how new versions (releases) are shared with users."]}),"\n",(0,i.jsx)(n.p,{children:"Devtron allows you to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Quickly view the current deployment status and detailed progress."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For canary deployments you can manually trigger the next step for the release or fully complete the rollout."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"For Blue-Green deployments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You can directly route the end user traffic to the application\u2019s new deployment on a particular environment."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"You can swap the traffic from Blue to Green."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Easily rollback deployments (if needed)."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"visibility--actions",children:"Visibility & Actions"}),"\n",(0,i.jsx)(n.h3,{id:"for-canary-deployments",children:"For Canary Deployments"}),"\n",(0,i.jsxs)(n.p,{children:["After triggering the deployment, navigate to ",(0,i.jsx)(n.strong,{children:"App Details"}),", to get a quick overview of your release rollout status."]}),"\n",(0,i.jsxs)(n.p,{children:["You can select the ",(0,i.jsx)(n.strong,{children:"Manage Traffic"})," button to view the rollout status and steps involved in the release."]}),"\n",(0,i.jsx)(n.p,{children:"If you wish you can also trigger the next release steps (for example 25%, 50%, 75%) or you can also trigger the full rollout at once according to your use case."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-manage-traffic.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 1a: Selecting Manage Traffic"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-manage-traffic-2.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 1b: Managing Canary Traffic"})]}),"\n",(0,i.jsx)(n.h3,{id:"for-blue-green-deployments",children:"For Blue Green deployments"}),"\n",(0,i.jsxs)(n.p,{children:["Devtron automatically swaps the traffic from the current running release to the new release based on the defined strategy configuration. In case ",(0,i.jsx)(n.code,{children:"autoPromotionEnabled"})," field value is set to ",(0,i.jsx)(n.code,{children:"false"}),", you can manually swap the traffic from the current release to the new release."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-auto-promotion-enabled-false.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 2: autoPromotionEnabled: false"})]}),"\n",(0,i.jsx)(n.p,{children:"To do so, follow the steps below:"}),"\n",(0,i.jsx)(n.h4,{id:"swap-traffic",children:"Swap Traffic"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"App Details"})," of your application."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["During Blue-Green deployment, click the ",(0,i.jsx)(n.strong,{children:"Swap Traffic"})," button to shift the traffic to application's new release."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-awating-swap.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 3: Selecting Swap Traffic"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Enter the name of the environment and select ",(0,i.jsx)(n.strong,{children:"Swap Traffic"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-swap-live-traffic.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 4: Swap Traffic Pop Up"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"This will route the end user traffic from the current running release to the new release on a particular environment."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In any scenario, if you want to skip the Blue-Green Strategy and route the end user traffic from the current running release to the new release on a particular environment, you can do that via ",(0,i.jsx)(n.strong,{children:"Skip & Promote Full"})," button during the deployment."]}),"\n",(0,i.jsx)(n.p,{children:"To do so, follow the below steps:"}),"\n",(0,i.jsx)(n.h4,{id:"skip--promote-full",children:"Skip & Promote Full"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"App Details"})," of your application."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["During Blue-Green deployment, click the ",(0,i.jsx)(n.strong,{children:"Skip & Promote Full"})," button to shift the traffic to application's new deployment."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-skip-and-promote.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 5: Selecting 'Skip & Promote Full'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Enter the name of the environment and select ",(0,i.jsx)(n.strong,{children:"Promote to Full"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-skip-and-promote-2.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 6: Promote to Full Pop Up"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"This will skip the Blue-Green Strategy and route the end user traffic from the current running release to the new release on a particular environment."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"rollback-the-deployment",children:"Rollback the Deployment"}),"\n",(0,i.jsx)(n.p,{children:"In case you have identified some bugs or performance of the release is not as expected then you can also rollback to the previous release."}),"\n",(0,i.jsxs)(n.p,{children:["You can perform a rollback from ",(0,i.jsx)(n.strong,{children:"Build & Deploy"})," Section and from App Details (for Blue-Green & Canary Strategies only)"]}),"\n",(0,i.jsx)(n.p,{children:"To perform a rollback from App Details follow the below steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Navigate to ",(0,i.jsx)(n.strong,{children:"App details"})," of your Devtron Application."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Based on the type of deployment strategy, perform one of the following actions:"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In case of Canary deployments, select ",(0,i.jsx)(n.strong,{children:"Rollback"})," under ",(0,i.jsx)(n.strong,{children:"Canary Strategy"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-rollback.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 7: Selecting Rollback For Canary Deployment"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["In case of Blue Green deployments, select ",(0,i.jsx)(n.strong,{children:"Rollback"})," under ",(0,i.jsx)(n.strong,{children:"Blue Green Strategy"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-rollback-blue-green.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 8: Selecting Rollback For Blue Green Deployment"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select the image to which you want your release to be rolled back and click ",(0,i.jsx)(n.strong,{children:"Deploy"})," to rollback the release."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-rollback-select-image+.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 9: Selecting the Image"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If you wish, you can select a different deployment strategy other than the default according to the use case."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{src:"https://devtron-public-asset.s3.us-east-2.amazonaws.com/images/creating-application/app-details/deployment-rollback-deploy-strag.jpg",alt:""}),"\n",(0,i.jsx)("center",{children:"Figure 10: Selecting Deployment Strategy"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"The application will be rolled back to the previous release (image) using the selected deployment strategy."}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}}}]);